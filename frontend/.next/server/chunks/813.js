"use strict";exports.id=813,exports.ids=[813],exports.modules={20813:(a,b,c)=>{c.r(b),c.d(b,{detectKeylessEnvDrift:()=>i});var d=c(29021),e=c(33873),f=c(24687);let g="KEYLESS_ENV_DRIFT_DETECTED";async function h(){try{let a=(0,e.join)(process.cwd(),".clerk/.tmp/telemetry.json"),b=(0,e.dirname)(a);await d.promises.mkdir(b,{recursive:!0});let c={firedAt:new Date().toISOString(),event:g};return await d.promises.writeFile(a,JSON.stringify(c,null,2),{flag:"wx"}),!0}catch(a){if((null==a?void 0:a.code)==="EEXIST")return!1;return console.warn("Failed to create telemetry flag file:",a),!1}}async function i(){var a,b;if("undefined"==typeof window)try{let{safeParseClerkFile:d}=await c.e(956).then(c.bind(c,34956)),e=d();if(!e)return;let i="pk_test_c2hhcmluZy1uYXJ3aGFsLTc0LmNsZXJrLmFjY291bnRzLmRldiQ",j=process.env.CLERK_SECRET_KEY,k=!!(i||j),l=!!((null==e?void 0:e.publishableKey)&&(null==e?void 0:e.secretKey)),m=!i&&!j;if(!k&&!l||m&&l||!l||!k)return;let n=!!(i&&e.publishableKey&&i===e.publishableKey),o=!!(j&&e.secretKey&&j===e.secretKey);if(!(i&&e.publishableKey&&!n||j&&e.secretKey&&!o))return;let p={publicKeyMatch:n,secretKeyMatch:o,envVarsMissing:m,keylessFileHasKeys:l,keylessPublishableKey:null!=(a=e.publishableKey)?a:"",envPublishableKey:i},q=(0,f.n)({publishableKey:e.publishableKey,secretKey:e.secretKey});await h()&&(null==(b=q.telemetry)||b.record({event:g,eventSamplingRate:1,payload:p}))}catch(a){console.warn("Failed to detect keyless environment drift:",a)}}}};